--
https://github.com/RediSearch/lettusearch[image:https://img.shields.io/github/license/RediSearch/lettusearch.svg[license]]
https://maven-badges.herokuapp.com/maven-central/com.redislabs/lettusearch[image:https://maven-badges.herokuapp.com/maven-central/com.redislabs/lettusearch/badge.svg[Maven Central]]
https://www.javadoc.io/doc/com.redislabs/lettusearch[image:https://www.javadoc.io/badge/com.redislabs/lettusearch.svg[Javadocs]]
https://codecov.io/gh/RediSearch/lettusearch[image:https://codecov.io/gh/RediSearch/lettusearch/branch/master/graph/badge.svg[Codecov]]
https://circleci.com/gh/RediSearch/lettusearch/tree/master[image:https://circleci.com/gh/RediSearch/lettusearch/tree/master.svg?style=svg[CircleCI]]
https://github.com/RediSearch/lettusearch/releases/latest[image:https://img.shields.io/github/release/RediSearch/lettusearch.svg[GitHub issues]]
--

= LettuSearch
:source-highlighter: coderay
:icons: font

Java client for https://redisearch.io[RediSearch] based on https://lettuce.io[Lettuce]

== Architecture
LettuSearch implements RediSearch commands using the https://lettuce.io/core/5.0.1.RELEASE/reference/#_custom_commands[Command abstraction] provided by Lettuce.

== Building
[source,shell]
----
$ mvn clean install
----

== Usage
Add LettuSearch to your application dependencies, e.g. with Maven:
[source,xml]
----
<dependency>
	<groupId>com.redislabs</groupId>
	<artifactId>lettusearch</artifactId>
	<version>1.3.0</version>
</dependency>
----

.Java example
[source,java]
----
public final static Schema SCHEMA = Schema.builder()
		.field(TextField.builder().name(FIELD_NAME).matcher(PhoneticMatcher.English).build())
		.field(TagField.builder().name(FIELD_STYLE).sortable(true).build())
		.field(NumericField.builder().name(FIELD_ABV).sortable(true).build()).build();

public static void main(String[] args) throws Exception {
	RediSearchClient client = RediSearchClient.create("redis://localhost");
	StatefulRediSearchConnection<String, String> conn = client.connect(); // <1>
	RediSearchCommands<String, String> commands = conn.sync(); // <2>
	commands.create(Beers.INDEX, SCHEMA); // <3>
	load().forEach(d -> commands.add(Beers.INDEX, d.get(FIELD_ID), 1, d)); // <4>
	SearchResults<String, String> results = commands.search(INDEX, "sculpin"); // <5>
	results.forEach(r -> System.out.println(r));
}
----

<1> Establish a connection to RediSearch
<2> Use _sync_, _async_, or _reactive_ commands
<3> Create a RediSearch index
<4> Add documents to the previously created index
<5> Search the index
